<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="copyright" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.rights.owner" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="GMM" />
<meta name="abstract" content="This Machine Learning Engine function fits Gaussian Mixture Model to training data." />
<meta name="description" content="This Machine Learning Engine function fits Gaussian Mixture Model to training data." />
<meta name="DC.Relation" scheme="URI" content="qym1549987102806.html" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="mwd1507666023473" />
<meta name="DC.Language" content="en-us" />

<link rel="stylesheet" type="text/css" href="css/normal_styles.css" />
<title>GMM</title>
</head>
<body>
<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="mwd1507666023473" id="mwd1507666023473">
	<h1 class="title topictitle1" id="ariaid-title1">GMM</h1>

	<div class="body conbody">
		<p class="p">GMM is a driver function that fits a Gaussian Mixture Model (GMM) to data supplied in an input table. You specify whether GMM uses a basic GMM algorithm with a fixed number of clusters or a Dirichlet Process GMM (DP-GMM) algorithm with a variable number of clusters.</p>

		<p class="p">The output table of the GMM function can be input to the function <a class="xref" href="ifn1558460307521.html#lnk1507728494086" title="This Machine Learning Engine function uses GMM output (a Gaussian Mixture Model) to predict cluster assignments for test data.">GMMPredict</a>.</p>

	</div>
<div class="related-links">
<div class="linklistheader">Related Information</div>
<ul class="linklist linklist relinfo">
<div class="linklistmember"><a class="link" href="qym1549987102806.html" title="Learn why you can get different results from a Machine Learning Engine analytic function using the same input tables and syntax element values.">Nondeterministic Results and UniqueID Syntax Element</a></div></ul>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="mvg1507666059016" xml:lang="en-us" lang="en-us" id="mvg1507666059016"><h2 class="title topictitle2" id="ariaid-title2">GMM Syntax</h2>
<div class="body refbody"><div class="section" id="mvg1507666059016__section_N1000E_N1000C_N10001"><h3 class="title sectiontitle">Version 1.3</h3><pre class="pre codeblock"><code>SELECT * FROM GMM (
  <span class="ph">ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> AS InitialValues PARTITION BY 1
  ON <var class="keyword varname">input_table</var> AS InputTable
  OUT TABLE OutputTable (<var class="keyword varname">output_table</var>)
  USING
  { MaxClusterNum (<var class="keyword varname">max_clusters</var>) | ClusterNum (<var class="keyword varname">clusters</var>) }
  [ CovarianceType ({ 'diagonal' | 'spherical' | 'tied' | 'full' }) ]
  [ Tolerance (<var class="keyword varname">tolerance</var>) ]
  [ MaxIterNum (<var class="keyword varname">max_iterations</var>) ]
  [ ConcentrationParam (<var class="keyword varname">concentration</var>) ]
  [ PackOutput (<span class="keyword">{'true'|'t'|'yes'|'y'|'1'|'false'|'f'|'no'|'n'|'0'}</span>) ]
) AS <var class="keyword varname">alias</var>;</code></pre></div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="hio1507666156895" xml:lang="en-us" lang="en-us" id="hio1507666156895">
	<h2 class="title topictitle2" id="ariaid-title3">GMM Syntax Elements</h2>

	<div class="body refbody">
		<div class="section" id="hio1507666156895__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">OutputTable</dt>
<dd class="dd pd">Specify the name of the output table to which the function outputs cluster information. The table must not already exist.</dd>
<dt class="dt pt dlterm">MaxClusterNum</dt>
<dd class="dd pd">[Required if you omit ClusterNum, disallowed otherwise.] Specify the maximum number of clusters in a Dirichlet Process model and causes the function to use the DP-GMM algorithm. This value must have the data type INTEGER.</dd>
<dd class="dd pd ddexpand">Default: 20</dd>
<dt class="dt pt dlterm">ClusterNum</dt>
<dd class="dd pd">[Required if you omit MaxClusterNum, disallowed otherwise.] Specify the number of clusters in a model and causes the function to use the basic GMM algorithm. This value must have the data type INTEGER and be greater than 0.</dd>
<dd class="dd pd ddexpand">Default: 10</dd>
<dt class="dt pt dlterm">CovarianceType</dt>
<dd class="dd pd">[Optional] Specify the covariance matrix type, thereby determining how many parameters the function estimates for each cluster, where <var class="keyword varname">D</var> is the number of dimensions in the matrix:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hio1507666156895__table_xqz_qmz_fdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:25%" /><col style="width:75%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d369244e169">Option</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d369244e171">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e169 "><code class="ph codeph">'diagonal'</code> (Default)</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e171 ">Each covariance matrix has zeros on nondiagonal. Function estimates <var class="keyword varname">D</var> parameters for each cluster.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e169 "><code class="ph codeph">'spherical'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e171 ">Each covariance matrix is of form σI. Function estimates one parameter for each cluster.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e169 "><code class="ph codeph">'tied'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e171 ">Each cluster has the same covariance matrix. Function estimates (1/2)<var class="keyword varname">D</var> (<var class="keyword varname">D</var> -1) parameters.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e169 "><code class="ph codeph">'full'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e171 ">Each cluster has an arbitrary covariance matrix. Function estimates (1/2)<var class="keyword varname">D</var> (<var class="keyword varname">D</var> -1) parameters for each cluster.</td>
</tr>
</tbody>
</table>
</div>
</dd>
<dt class="dt pt dlterm">Tolerance</dt>
<dd class="dd pd">[Optional] Specify the minimum change in log-likelihood between iterations that causes the function to terminate. This value must have the data type DOUBLE PRECISION and be greater than 0.</dd>
<dd class="dd pd ddexpand">Default: 0.001</dd>
<dt class="dt pt dlterm">MaxIterNum</dt>
<dd class="dd pd">[Optional] Specify the maximum number of iterations for which the function runs. This value must have the data type INTEGER and be greater than 0.</dd>
<dd class="dd pd ddexpand">Default: 10</dd>
<dt class="dt pt dlterm">ConcentrationParam</dt>
<dd class="dd pd">[Optional] Specify this syntax element only if you specify MaxClusterNum. Specify the concentration parameter, α, which determines the number of clusters that the DP-GMM algorithm creates. This value must have the data type DOUBLE PRECISION and be greater than 0.</dd>
<dd class="dd pd ddexpand">The expected number of clusters is α log N, where N is the number of points in the data set; therefore, a larger α value tends to cause the algorithm to find more clusters.</dd>
<dd class="dd pd ddexpand">Default: 0.001</dd>
<dt class="dt pt dlterm">PackOutput</dt>
<dd class="dd pd">[Optional] Specify whether the function packs the output.</dd>
<dd class="dd pd ddexpand">Default: 'false'</dd>
</dl>
</div>

	</div>

</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="moo1507666272749" xml:lang="en-us" lang="en-us" id="moo1507666272749"><h2 class="title topictitle2" id="ariaid-title4">GMM Input</h2>
<div class="body refbody"><div class="section" id="moo1507666272749__section_N1000E_N1000C_N10001">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_rjz_tjd_ycb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d369244e263">Table</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d369244e265">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e263 ">InputTable</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e265 ">Contains input data to cluster.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e263 ">InitialValues</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e265 ">[Optional] Table or view that contains initial values for weight, mean, and covariance of each cluster. If this table or view is empty, function terminates without executing.<div class="p">If you do not specify a table or view, you must use query <code class="ph codeph">ON (SELECT 1)</code>, which causes function to determine initial values as follows:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_ems_ykm_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d369244e289">Characteristic</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d369244e291">Initial Value</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e289 ">weight</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e291 ">Same for all clusters.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e289 ">mean</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e291 ">Selected from multivariate standard normal distribution centered at origin.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e289 ">covariance</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e291 ">Covariance matrix computed by function and assigned to each cluster.</td>
</tr>
</tbody>
</table>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="moo1507666272749__section_vp1_4jd_ycb"><h3 class="title sectiontitle">InputTable Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:14.285714285714285%" /><col style="width:28.57142857142857%" /><col style="width:57.14285714285714%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e319">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e321">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d369244e323">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e319 ">id</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e321 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e323 ">Leftmost column. Data point identifier.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e319 ">dim_<var class="keyword varname">n</var></td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e321 "><span class="ph">Any numeric SQL data type</span></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e323 ">[Column appears once for each dimension.] Data in dimension <var class="keyword varname">i</var>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="moo1507666272749__section_pt2_qjd_ycb"><h3 class="title sectiontitle">InitialValues Table Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_N10069_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:14.285714285714285%" /><col style="width:28.57142857142857%" /><col style="width:57.14285714285714%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e356">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e358">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d369244e360">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e356 ">weight</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e358 "><span class="ph">Any numeric SQL data type</span></td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e360 ">Initial weight of cluster.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e356 ">dim_<var class="keyword varname">n</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e358 "><span class="ph">Any numeric SQL data type</span></td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e360 ">[Column appears once for each dimension.] Initial mean of cluster.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e356 ">covariance</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e358 ">VARCHAR</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e360 ">Initial covariance of cluster. Possible values depend on CovarianceType.<div class="p">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="moo1507666272749__table_k2g_5lm_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d369244e395">CovarianceType</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d369244e397">Possible Values</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e395 "><code class="ph codeph">'spherical'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e397 ">Positive numeric value (for example, 1.0.)</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e395 "><code class="ph codeph">'diagonal'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e397 ">JSON representation of DOUBLE PRECISION array (for example, [1.0,2.0,3.0,4.0])</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e395 "><code class="ph codeph">'tied'</code> or <code class="ph codeph">'full'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e397 ">JSON representation of two-dimensional DOUBLE PRECISION array (for example, [[1.0,2.0],[2.0,4.0]])</td>
</tr>
</tbody>
</table>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="ytf1507666317864" xml:lang="en-us" lang="en-us" id="ytf1507666317864"><h2 class="title topictitle2" id="ariaid-title5">GMM Output</h2>
<div class="body refbody"><div class="section" id="ytf1507666317864__section_N1000E_N1000C_N10001"><p class="p">The GMM function outputs a message and a table. The OutputTable schema depends on the PackOutput syntax element.</p>
</div>
<div class="section" id="ytf1507666317864__section_nrx_wmd_ycb"><h3 class="title sectiontitle">Output Message Properties</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:33.33333333333333%" /><col style="width:66.66666666666666%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e442">Property</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d369244e444">Value</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Output Table</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Table name specified in OutputTable syntax element.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Algorithm Used</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Algorithm that function used—Basic GMM or DP-DMM.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 "> </td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 "> </td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Stopping Criterion</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Why function stopped—reached iteration limit or convergence.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Delta Log Likelihood</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Change in mean log-likelihood for each data point between next-to-final and final iterations.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Number of Iterations</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Number of iterations that function performed before stopping.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Number of Clusters Found</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Number of clusters in GMM.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Covariance Type</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Spherical, diagonal, tied, or full.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 "> </td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 "> </td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Number of Data Points</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Number of data points in data set.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Global Mean</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Mean of data set.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Global Covariance</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Covariance of data set.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 "> </td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 "> </td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Log Likelihood</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Log-likelihood of data, given GMM.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e442 ">Akaike Information Criterion</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e444 ">Akaike Information Criterion.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e442 ">Bayesian Information Criterion</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e444 ">Bayesian Information Criterion.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="ytf1507666317864__section_xyf_fnd_ycb"><h3 class="title sectiontitle">OutputTable Schema, PackOutput ('false') (Default)</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_N100C0_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:18.181818181818183%" /><col style="width:27.27272727272727%" /><col style="width:54.54545454545454%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e535">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e537">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d369244e539">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e535 ">cluster_id</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e537 ">INTEGER</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e539 ">Cluster identification number.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e535 ">points_assigned</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e537 ">INTEGER</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e539 ">Number of points in training data set assigned to  cluster.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e535 ">covariance_type</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e537 ">VARCHAR</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e539 ">Covariance type.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e535 ">weight</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e537 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e539 ">Weight assigned to cluster.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e535 ">dim_<var class="keyword varname">n</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e537 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e539 ">[Column appears once for each dimension.] Mean of cluster <var class="keyword varname">n.</var></td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e535 ">cov_<var class="keyword varname">n</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e537 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e539 ">[Column appears once for each dimension.] Covariance of cluster <var class="keyword varname">n</var>.<p class="p">Depends on CovarianceType:</p>
<div class="p">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_bm1_xnm_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d369244e602">CovarianceType</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d369244e604">cov_<var class="keyword varname">n</var></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e602 "><code class="ph codeph">'spherical'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e604 ">Single covariance column. Each row contains DOUBLE PRECISION value.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e602 "><code class="ph codeph">'diagonal'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e604 "><var class="keyword varname">D</var> covariance rows, each containing a DOUBLE PRECISION value.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e602 "><code class="ph codeph">'tied'</code> or <code class="ph codeph">'full'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e604 "><var class="keyword varname">D</var>(<var class="keyword varname">D</var>-1) covariance rows, each containing a DOUBLE PRECISION value.</td>
</tr>
</tbody>
</table>
</div>
</div>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e535 ">log_determinant</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e537 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e539 ">Log determinant of covariance matrix.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e535 ">prec</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e537 ">VARCHAR</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e539 ">Precision matrix, inverse of covariance matrix. Precision matrix is serialized and stored to improve performance of <a class="xref" href="ifn1558460307521.html#lnk1507728494086" title="This Machine Learning Engine function uses GMM output (a Gaussian Mixture Model) to predict cluster assignments for test data.">GMMPredict</a> function.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="ytf1507666317864__section_fp2_gnd_ycb"><h3 class="title sectiontitle">OutputTable Schema, PackOutput ('true')</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_N10199_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:18.181818181818183%" /><col style="width:27.27272727272727%" /><col style="width:54.54545454545454%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e671">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e673">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d369244e675">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e671 ">cluster_id</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e673 ">INTEGER</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e675 ">Cluster identification number.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e671 ">points_assigned</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e673 ">INTEGER</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e675 ">Number of points in training data set assigned to cluster.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e671 ">covariance_type</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e673 ">VARCHAR</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e675 ">Number of points in training data set assigned to cluster.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e671 ">weight</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e673 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e675 ">Weight assigned to cluster.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e671 ">mean</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e673 ">VARCHAR</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e675 ">Vector of <var class="keyword varname">D</var> DOUBLE PRECISION values that specify mean of each cluster (for example, [4.5, 2.3, 1.3]).</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e671 ">covariance</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e673 ">VARCHAR</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e675 ">Depends on CovarianceType:<div class="p">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ytf1507666317864__table_oqt_2xr_ddb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d369244e730">CovarianceType</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d369244e732">covariance</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e730 "><code class="ph codeph">'spherical'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e732 ">Single covariance column. Each row contains DOUBLE PRECISION value.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e730 "><code class="ph codeph">'diagonal'</code>, <code class="ph codeph">'tied'</code>,  or <code class="ph codeph">'full'</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e732 ">Single covariance column. Each row contains a white-space separated list of <var class="keyword varname">D</var>*<var class="keyword varname">D</var> DOUBLE PRECISION values.</td>
</tr>
</tbody>
</table>
</div>
</div>
</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e671 ">log_determinant</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e673 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e675 ">Log determinant of covariance matrix.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e671 ">prec</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e673 ">VARCHAR</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e675 ">Precision matrix, inverse of covariance matrix. Precision matrix is serialized and stored to improve performance of <a class="xref" href="ifn1558460307521.html#lnk1507728494086" title="This Machine Learning Engine function uses GMM output (a Gaussian Mixture Model) to predict cluster assignments for test data.">GMMPredict</a> function.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic concept nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="btu1510703684716" xml:lang="en-us" lang="en-us" id="btu1510703684716"><h2 class="title topictitle2" id="ariaid-title6">GMM Examples</h2>
<div class="topic reference nested2" aria-labelledby="ariaid-title7" topicindex="7" topicid="zym1507666381888" xml:lang="en-us" lang="en-us" id="zym1507666381888"><h3 class="title topictitle3" id="ariaid-title7">GMM Examples Input</h3>
<div class="body refbody"><div class="section" id="zym1507666381888__section_N1000E_N1000C_N10001"><p class="p">The table gmm_iris_input contains raw data, which has values for four attributes—sepal_length, sepal_width, petal_length, and petal_width—which are the data dimensions. The table does not include the species column, because the goal is data clustering, not classification. Each example outputs three clusters.</p>
<p class="p">From the raw data, a train set and a test set are created.</p>
<p class="p">The function GMM uses the train set to create the model. The GMMPredict function uses the model information to predict clusters for the test data.</p>
</div>
<div class="section" id="zym1507666381888__section_vqq_5dt_wbb"><h4 class="title sectiontitle">Raw Data Table gmm_iris_input</h4>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zym1507666381888__table_N1001A_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:11.11111111111111%" /><col style="width:22.22222222222222%" /><col style="width:22.22222222222222%" /><col style="width:22.22222222222222%" /><col style="width:22.22222222222222%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e820">id</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e822">sepal_length</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e824">sepal_width</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d369244e826">petal_length</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d369244e828">petal_width</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">1</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">5.1</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.5</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.4</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.2</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">2</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">4.9</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.4</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.2</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">3</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">4.7</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.2</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.3</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.2</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">4</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">4.6</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.1</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.5</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.2</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">5</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">5</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.6</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.4</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.2</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">6</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">5.4</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.9</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.7</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.4</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">7</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">4.6</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.4</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.4</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.3</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">8</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">5</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.4</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.5</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.2</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">9</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">4.4</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">2.9</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.4</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.2</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e820 ">10</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e822 ">4.9</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e824 ">3.1</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d369244e826 ">1.5</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d369244e828 ">0.1</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e820 ">...</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e822 ">...</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e824 ">...</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d369244e826 ">...</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d369244e828 ">...</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="zym1507666381888__section_pqf_sdt_wbb"><h4 class="title sectiontitle">Split Input into Training and Testing Data Sets</h4><p class="p">The following code divides the 150 data rows into a training data set (80%) and a testing data set (20%). The GMM examples use gmm_iris_train; the GMMPredict example uses gmm_iris_test.</p>
<pre class="pre codeblock"><code>DROP TABLE gmm_iris_train;
DROP TABLE gmm_iris_test;

CREATE MULTISET TABLE gmm_iris_train AS (
  SELECT * FROM gmm_iris_input WHERE id MOD 5 &lt;&gt; 0
) WITH DATA;

CREATE MULTISET TABLE gmm_iris_test AS (
  SELECT * FROM gmm_iris_input WHERE id MOD 5 = 0
) WITH DATA;</code></pre><div class="note note" id="zym1507666381888__note_N1001F_N10011_N1000E_N10001"><span class="notetitle">Note</span><div class="notebody">Alternatively, you can do the preceding task with the Sampling or RandomSample function.</div></div>
</div>
</div>
</div>
<div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="pak1525196771161" xml:lang="en-us" lang="en-us" id="pak1525196771161">
	<h3 class="title topictitle3" id="ariaid-title8">GMM Example: Basic GMM, Spherical Covariance, Packed Output</h3>

	<div class="body refbody"><div class="section" id="pak1525196771161__section_ukk_kpx_xhb"><h4 class="title sectiontitle">Input</h4><p class="p">See <a class="xref" href="zgv1558460260471.html#zym1507666381888" title="">GMM Examples Input</a>.</p>
</div>
<div class="section" id="pak1525196771161__section_jwr_b1l_rdb"><h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock"><code>SELECT * FROM GMM (
  ON (SELECT 1) AS InitialValues PARTITION BY 1
  ON gmm_iris_train AS InputTable
  OUT TABLE OutputTable (gmm_output_ex1)
  USING
  ClusterNum (3)
  CovarianceType ('spherical')
  MaxIterNum (10)
  PackOutput (1)
) AS dt ;</code></pre></div>
<div class="section" id="pak1525196771161__section_m1f_c1l_rdb"><h4 class="title sectiontitle">Output</h4><p class="p">Because the <span class="keyword">SQL</span> call specifies PackOutput (1), a single mean column displays a vector containing the mean value for each dimension.</p>
<pre class="pre screen">property			value
-----------------------------  -------------------------------------------------------------------------------------------------------------
Output Table			Table Name Specified in OutputTable argument
Algorithm Used			Basic GMM
	
Stopping Criterion		Algorithm converged with tolerance 0.001
Delta Log Likelihood		0
Number of Iterations		5
Number of Clusters		3
Covariance Type	spherical
Number of Data Points		120
Global Mean			[5.866, 3.055, 3.770, 1.205]
Global Covariance		[[0.7197, -0.04204, 1.326, 0.5265], [-0.04204, 0.1916, -0.3241, -0.1213], [1.326, -0.3241, 3.167, 1.298], [0.5265, -0.1213, 1.298, 0.5708]]
	
Log Likelihood			-332.722
Akaike Information Criterion	699.444 on 17 parameters
Bayesian Information Criterion	746.831 on 17 parameters</pre>
<pre class="pre codeblock"><code>SELECT * FROM gmm_output_ex1;</code></pre><pre class="pre screen">cluster_id	points_assigned	covariance_type	weight		mean										covariance	log_determinant		prec
0		1		spherical	8.33E-03	[4.5, 2.3, 1.3, 0.3]								1.00E-12	-1.10524084463714E 002	1.00E+12
1		39		spherical	3.25E-01	[5.01025640674348, 3.4461538411338686, 1.446153846741701, 0.25128205118815566]	0.072353714	-1.05047539703453E 001	13.82099057
2		80		spherical	6.67E-01	[6.299999998810369, 2.873750003735264, 4.933749991865624, 1.6812499968280563]	0.351423837	-4.18304908500248E 000	2.845566791</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="pak1525196771161__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>

	</div>

</div>
<div class="topic reference nested2" aria-labelledby="ariaid-title9" topicindex="9" topicid="tox1507666830590" xml:lang="en-us" lang="en-us" id="tox1507666830590"><h3 class="title topictitle3" id="ariaid-title9">GMM Example: Basic GMM, Diagonal Covariance, Unpacked Output</h3>
<div class="body refbody"><div class="section" id="tox1507666830590__section_bfy_hpx_xhb"><h4 class="title sectiontitle">Input</h4><p class="p">See <a class="xref" href="zgv1558460260471.html#zym1507666381888" title="">GMM Examples Input</a>.</p>
</div>
<div class="section" id="tox1507666830590__section_fm1_2bt_rdb"><h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock"><code>DROP TABLE gmm_output_ex2;

SELECT * FROM GMM(
  ON (SELECT 1) AS InitialValues PARTITION BY 1
  ON gmm_iris_train AS InputTable
  OUT TABLE OutputTable (gmm_output_ex2)
  USING
  ClusterNum (3)
  CovarianceType ('diagonal')
  MaxIterNum (10)
  PackOutput (0)
) AS dt;</code></pre></div>
<div class="section" id="tox1507666830590__section_vpp_2bt_rdb"><h4 class="title sectiontitle">Output</h4><p class="p">Because the SQL call specifies PackOutput (0), the mean for each dimension is output in a separate column.</p>
<pre class="pre screen">property                          value
-----------------------------     --------------------------------------------
Output Table                      Table Name Specified in OutputTable argument
Algorithm Used                    Basic GMM

Stopping Criterion                Algorithm converged with tolerance 0.001
Delta Log Likelihood              0.000306
Number of Iterations              9
Number of Clusters                3
Covariance Type                   diagonal

Number of Data Points             120
Global Mean                       [5.866, 3.055, 3.770, 1.205]
Global Covariance                 [[0.7197, -0.04204, 1.326, 0.5265], [-0.04204, 0.1916, -0.3241, -0.1213], [1.326, -0.3241, 3.167, 1.298], [0.5265, -0.1213, 1.298, 0.5708]]

Log Likelihood                    -299.463
Akaike Information Criterion      650.927 on 26 parameters
Bayesian Information Criterion    723.402 on 26 parameters</pre>
<pre class="pre codeblock"><code>SELECT * FROM gmm_output_ex2;</code></pre><pre class="pre screen"> cluster_id points_assigned covariance_type                 weight           sepal_length            sepal_width           petal_length            petal_width                  cov_1                  cov_2                  cov_3                  cov_4        log_determinant prec
----------- --------------- --------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ----------------------
          0              80 diagonal         6.66666671404995E-001  6.29999999264475E 000  2.87375000423673E 000  4.93374997654975E 000  1.68124999091003E 000  4.48250005108612E-001  1.12435939872283E-001  6.75236010159825E-001  1.69773448042198E-001 -5.15375919180448E 000 [2.2308979109943294, 8.893953313646076, 1.4809636704110392, 5.890202570141868]
          1              34 diagonal         2.81449285506468E-001  4.96420190082733E 000  3.39489108307423E 000  1.41310305651851E 000  2.18678116022252E-001  1.42644399487320E-001  1.69911879262500E-001  2.20773079340602E-002  5.21182552945754E-003 -1.27899058795552E 001 [7.010439972365617, 5.885403683017837, 45.295377633304305, 191.87134994215393]
          2               6 diagonal         5.18840430885372E-002  5.17812827017366E 000  3.54014393613176E 000  1.60196613519743E 000  4.35969594955617E-001  3.39711206117030E-002  4.30843522590134E-002  7.16344281172976E-003  8.91647791209674E-003 -1.61854587507255E 001 [29.436768113428094, 23.210282795670814, 139.5976803727047, 112.15190682447918]</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="tox1507666830590__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>
</div>
</div>
<div class="topic reference nested2" aria-labelledby="ariaid-title10" topicindex="10" topicid="dau1507667271202" xml:lang="en-us" lang="en-us" id="dau1507667271202"><h3 class="title topictitle3" id="ariaid-title10">GMM Example: DP-GMM, Full Covariance, Unpacked Output</h3>
<div class="body refbody"><div class="section" id="dau1507667271202__section_ntk_fpx_xhb"><h4 class="title sectiontitle">Input</h4><p class="p">See <a class="xref" href="zgv1558460260471.html#zym1507666381888" title="">GMM Examples Input</a>.</p>
</div>
<div class="section" id="dau1507667271202__section_N10011_N1000E_N10001"><p class="p">Dirichlet Process GMM (DP-GMM) estimates the number of clusters in the data using an algorithm based on variational Bayesian methods.</p>
</div>
<div class="section" id="dau1507667271202__section_fm1_2bt_rdb"><h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock"><code>DROP TABLE dpgmm_output_ex3;

SELECT * FROM GMM (
  ON (SELECT 1) AS InitialValues PARTITION BY 1
  ON gmm_iris_train AS InputTable
  OUT TABLE OutputTable (dpgmm_output_ex3)
  USING
  MaxClusterNum (3)
  CovarianceType ('full')
  MaxIterNum (10)
  PackOutput (0)
) AS dt ;</code></pre></div>
<div class="section" id="dau1507667271202__section_vpp_2bt_rdb"><h4 class="title sectiontitle">Output</h4><pre class="pre screen">property                                 value

Output Table                             Table Name Specified in OutputTable argument
Algorithm Used                           Dirichlet Process GMM

Stopping Criterion                       Algorithm converged with tolerance 0.001
Delta Log Likelihood                     0.000494
Number of Iterations                     9
Number of Clusters Found                 1
Covariance Type                          full

Number of Data Points                    120
Global Mean                              [5.866, 3.055, 3.770, 1.205]
Global Covariance                        [[0.7197, -0.04204, 1.326, 0.5265], [-0.04204, 0.1916, -0.3241, -0.1213], [1.326, -0.3241, 3.167, 1.298], [0.5265, -0.1213, 1.298, 0.5708]]

Log Likelihood                           1550.435
Akaike Information Criterion             -3012.870 on 44 parameters
Bayesian Information Criterion           -2890.220 on 44 parameters</pre>
<pre class="pre codeblock"><code>SELECT * FROM dpgmm_output_ex3;</code></pre><pre class="pre screen"> cluster_id points_assigned covariance_type                 weight           sepal_length            sepal_width           petal_length            petal_width                 cov_11                 cov_12                 cov_13                 cov_14                 cov_22                 cov_23                 cov_24                 cov_33                 cov_34                 cov_44        log_determinant prec
----------- --------------- --------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ---------------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
          0             120 full             9.99991735613739E-001  5.73419321840163E 000  3.01843398222490E 000  3.61166171552218E 000  1.14486231793446E 000  1.66229691309346E 000 -2.14185076572784E-001  1.69427437178447E 000  6.93859028192593E-001  1.14410673681517E 000  2.62470215164859E-002  1.96024408024593E-002  4.00032159904576E 000  1.27929542158923E 000  1.50738876901989E 000  1.88394523840622E 000 [[0.7824065708713632, -0.04166720450521028, -0.2990852151033951, -0.10577545815433718], [-0.09328115290486803, 0.875436053888177, 0.03258314726425615, 0.0039006629777845513], [-0.169999622325278, 0.13304206449205377, 0.40094413849390415, -0.26375291186527555], [-0.04690499623137513, 0.04519483374938999, -0.25244627156275695, 0.898648652091002]]
          1               0 full             8.25613837088043E-006  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  1.66666666666667E-001 -7.16703787691222E 000 [[6.0, 0.0, 0.0, 0.0], [0.0, 6.0, 0.0, 0.0], [0.0, 0.0, 6.0, 0.0], [0.0, 0.0, 0.0, 6.0]]
          2               0 full             8.24789043818501E-009  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  0.00000000000000E 000  1.66666666666667E-001  0.00000000000000E 000  1.66666666666667E-001 -7.16703787691222E 000 [[6.0, 0.0, 0.0, 0.0], [0.0, 6.0, 0.0, 0.0], [0.0, 0.0, 6.0, 0.0], [0.0, 0.0, 0.0, 6.0]]</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="dau1507667271202__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>
</div>
</div>
</div>
</div>
</body>
</html>