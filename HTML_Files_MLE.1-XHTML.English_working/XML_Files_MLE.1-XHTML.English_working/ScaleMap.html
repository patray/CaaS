<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="copyright" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.rights.owner" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="ScaleMap" />
<meta name="abstract" content="This Machine Learning Engine function takes data set and outputs its statistical information (assembled at vworker level)." />
<meta name="description" content="This Machine Learning Engine function takes data set and outputs its statistical information (assembled at vworker level)." />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="fna1507827820130" />
<meta name="DC.Language" content="en-us" />

<link rel="stylesheet" type="text/css" href="css/normal_styles.css" />
<title>ScaleMap</title>
</head>
<body>
<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="fna1507827820130" id="fna1507827820130"><h1 class="title topictitle1" id="ariaid-title1">ScaleMap</h1>
<div class="body conbody"><div class="section" id="fna1507827820130__section_N1000E_N1000C_N10001"><p class="p">The ScaleMap function is designed for internal use only; its output is not intended for human interpretation. The ScaleMap function calculates and outputs statistical information for a data set at the vworker level. The output of the ScaleMap function is intended to be input to the functions Scale (which calculates scaled values for the data set) and ScaleSummary (which calculates global statistics for the data set).</p>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="nzp1507827828139" xml:lang="en-us" lang="en-us" id="nzp1507827828139"><h2 class="title topictitle2" id="ariaid-title2">ScaleMap Syntax</h2>
<div class="body refbody"><div class="section" id="nzp1507827828139__section_N1000E_N1000C_N10001"><h3 class="title sectiontitle">Version 1.6</h3><pre class="pre codeblock"><code>SELECT * FROM ScaleMap (
  <span class="ph">ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span>
  USING
  TargetColumns ( { '<var class="keyword varname">target_column</var>' | <var class="keyword varname">target_column_range</var> }[,...] )
  [ MissValue ({ 'KEEP' | 'OMIT' | 'ZERO' | 'LOCATION' })]
) AS <var class="keyword varname">alias</var>;</code></pre></div>
</div>
<div class="related-links">
<div class="linklistheader">Related Information</div>
<ul class="linklist linklist relinfo">
<div class="linklistmember"><a class="link" href="ndv1557782188375.html" title="See the syntax details for Machine Learning Engine analytic functions with syntax elements that specify ( {'column' | column_range }[,...] ).">Column Specification Syntax Elements</a></div></ul>
</div></div>
<div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="nwg1507827832154" xml:lang="en-us" lang="en-us" id="nwg1507827832154">
	<h2 class="title topictitle2" id="ariaid-title3">ScaleMap Syntax Elements</h2>

	<div class="body refbody">
		<div class="section" id="nwg1507827832154__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">TargetColumns</dt>
<dd class="dd pd">Specify the names of input table columns for which to calculate statistics. The columns must contain numeric values between -1e308 and 1e308. If a value is outside this range, the function treats it as infinity.</dd>
<dt class="dt pt dlterm">MissValue</dt>
<dd class="dd pd">[Optional] Specify how the Scale, ScaleMap, and ScaleByPartition functions are to process NULL values in input, as follows:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="nwg1507827832154__table_s3l_mv2_gdb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d386650e125">Option</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d386650e127">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e125 "><code class="ph codeph">KEEP</code> (Default)</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e127 ">Keep NULL values.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e125 "><code class="ph codeph">OMIT</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e127 ">Ignore any row that has a NULL value.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e125 "><code class="ph codeph">ZERO</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e127 ">Replace each NULL value with zero.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e125 "><code class="ph codeph">LOCATION</code></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e127 ">Replace each NULL value with its location value.</td>
</tr>
</tbody>
</table>
</div>
</dd>
</dl>
</div>

	</div>

</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="zsy1507827835796" xml:lang="en-us" lang="en-us" id="zsy1507827835796"><h2 class="title topictitle2" id="ariaid-title4">ScaleMap Input</h2>
<div class="body refbody"><div class="section" id="zsy1507827835796__section_ppz_dcf_bcb"><h3 class="title sectiontitle">Input Table Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="zsy1507827835796__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d386650e176">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d386650e178">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d386650e180">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d386650e176 "><var class="keyword varname">target_column</var></td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d386650e178 ">SMALLINT, INT, BIGINT, NUMERIC, or DOUBLE PRECISION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e180 ">[Column appears once for each specified <var class="keyword varname">target_column</var>.] Contains numeric values.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="zsy1507827835796__section_lfn_2cf_bcb"><h3 class="title sectiontitle">Invalid Input Data Handling</h3><ul class="ul" id="zsy1507827835796__ul_kpz_fcf_bcb"><li class="li">If the input table has infinity or NaN values, the input is invalid. The Scale and ScaleByPartition functions do not process these values, but the ScaleMap function counts the values in each column, including invalid values. The count of input values is available in the output of the ScaleSummary function.</li>
<li class="li">If a column contains only invalid input values, the data in this column is not modified.</li>
<li class="li">If a sequence has only one unique value, the result of the USTD, STD, RANGE, and MIDRANGE operations are NaN values because the function cannot calculate the scale.</li>
</ul>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="npl1507827847321" xml:lang="en-us" lang="en-us" id="npl1507827847321"><h2 class="title topictitle2" id="ariaid-title5">ScaleMap Output</h2>
<div class="body refbody"><div class="section" id="npl1507827847321__section_k2y_jms_ycb"><h3 class="title sectiontitle">Output Table Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="npl1507827847321__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:23.076923076923077%" /><col style="width:15.384615384615385%" /><col style="width:61.53846153846154%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d386650e224">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d386650e226">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d386650e228">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e224 ">stattype</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e226 ">VARCHAR</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e228 ">Type of statistical information, a value from stattype column of following table.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d386650e224 "><var class="keyword varname">stattype_value</var></td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d386650e226 ">DOUBLE PRECISION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e228 ">Value of stattype, described in Description column of following table.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="npl1507827847321__section_plh_kms_ycb"><h3 class="title sectiontitle">stattype Values (Supported Data Types)</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="npl1507827847321__table_N10057_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:16.666666666666664%" /><col style="width:83.33333333333334%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d386650e255">stattype</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d386650e257">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">min</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Minimum value in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">max</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Maximum value in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">sum</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Sum value in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">squaresum</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Sum of squared values in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">count</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Count of valid values in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">infinity</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Count of infinite values in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">nan</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Count of NaN values in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">null</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Count of NULL values in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d386650e255 ">ignorerow</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d386650e257 ">Count of ignored rows in corresponding column in current vworker.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d386650e255 ">text_missvalue_<var class="keyword varname">missvalue</var></td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d386650e257 "><var class="keyword varname">missvalue</var> is value of MissValue syntax element—KEEP, OMIT, ZERO, or LOCATION.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="ozk1527089228983" xml:lang="en-us" lang="en-us" id="ozk1527089228983">
	<h2 class="title topictitle2" id="ariaid-title6">ScaleMap Examples</h2>

	<div class="body refbody">
		<div class="section" id="ozk1527089228983__section_N10011_N1000E_N10001"><ul class="ul" id="ozk1527089228983__ul_py3_jh4_xdb"><li class="li"><a class="xref" href="hal1558454832381.html#vgd1507825836871" title="See example of Machine Learning Engine function Scale that normalizes input data using the midrange method and the default values for Intercept and Multiplier.">Scale Example: ScaleMethod ('midrange')</a></li>
<li class="li"><a class="xref" href="hal1558454832381.html#zgm1507825887728" title="See example of Machine Learning Engine function Scale that uses ScaleMap on training data set to create statistics and uses them to scale similar test data set.">Scale Example: Use Training Data to Scale Test Data</a></li>
<li class="li"><a class="xref" href="hal1558454832381.html#rqs1507825946446" title="See example of Machine Learning Engine function Scale that normalizes data set for KMeans function, which outputs centroids of clusters in data set.">Scale Example: Use Scale Output in KMeans</a></li>
</ul>
</div>

	</div>

</div>
</div>
</body>
</html>