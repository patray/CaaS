<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="copyright" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.rights.owner" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="TextClassifierEvaluator" />
<meta name="abstract" content="This Machine Learning Engine function evaluates the precision, recall, and F-measure of the model output by TextClassifier." />
<meta name="description" content="This Machine Learning Engine function evaluates the precision, recall, and F-measure of the model output by TextClassifier." />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="zfa1507236147591" />
<meta name="DC.Language" content="en-us" />

<link rel="stylesheet" type="text/css" href="css/normal_styles.css" />
<title>TextClassifierEvaluator</title>
</head>
<body>
<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="zfa1507236147591" id="zfa1507236147591">
	<h1 class="title topictitle1" id="ariaid-title1">TextClassifierEvaluator</h1>

	<div class="body conbody">
		<p class="p">The TextClassifierEvaluator function evaluates the precision, recall, and F-measure of the trained model output by the function <a class="xref" href="lhi1558542137898.html#mdp1507235149305" title="This Machine Learning Engine function classifies input text, using a model output by TextClassifierTrainer.">TextClassifier</a>.</p>

	</div>

<div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="ofo1507236256881" xml:lang="en-us" lang="en-us" id="ofo1507236256881"><h2 class="title topictitle2" id="ariaid-title2">TextClassifierEvaluator Syntax</h2>
<div class="body refbody"><div class="section" id="ofo1507236256881__section_N1000E_N1000C_N10001"><h3 class="title sectiontitle">Version 1.3</h3><pre class="pre codeblock"><code>SELECT * FROM TextClassifierEvaluator (
  <span class="ph">ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY 1
  USING
  ObservationColumn ('<var class="keyword varname">observation_column</var>')
  PredictColumn ('<var class="keyword varname">predicted_column</var>')
) AS <var class="keyword varname">alias</var>;</code></pre></div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="pfb1507236373839" xml:lang="en-us" lang="en-us" id="pfb1507236373839">
	<h2 class="title topictitle2" id="ariaid-title3">TextClassifierEvaluator Syntax Elements</h2>

	<div class="body refbody">
		<div class="section" id="pfb1507236373839__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">ObservationColumn</dt>
<dd class="dd pd">Specify the name of the input column that contains the expected (correct) category.</dd>
<dt class="dt pt dlterm">PredictColumn</dt>
<dd class="dd pd">Specify the name of the input column that contains the predicted category (assigned by the function TextClassifier).</dd>
</dl>
</div>

	</div>

</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="yze1507236471519" xml:lang="en-us" lang="en-us" id="yze1507236471519"><h2 class="title topictitle2" id="ariaid-title4">TextClassifierEvaluator Input</h2>
<div class="body refbody"><div class="section" id="yze1507236471519__section_o3c_r1d_ycb"><h3 class="title sectiontitle">Input Table Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="yze1507236471519__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:23.076923076923077%" /><col style="width:15.384615384615385%" /><col style="width:61.53846153846154%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d396807e135">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d396807e137">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d396807e139">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d396807e135 "><var class="keyword varname">observation_column</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d396807e137 ">VARCHAR</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d396807e139 ">Expected (correct) category.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d396807e135 "><var class="keyword varname">predicted_column</var></td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d396807e137 ">VARCHAR</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d396807e139 ">Predicted category (assigned by TextClassifier function).</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="bnu1507237286962" xml:lang="en-us" lang="en-us" id="bnu1507237286962"><h2 class="title topictitle2" id="ariaid-title5">TextClassifierEvaluator Output</h2>
<div class="body refbody"><div class="section" id="bnu1507237286962__section_atb_p1d_ycb"><h3 class="title sectiontitle">Output Table Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="bnu1507237286962__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:23.076923076923077%" /><col style="width:15.384615384615385%" /><col style="width:61.53846153846154%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d396807e177">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d396807e179">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d396807e181">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d396807e177 ">precision_val</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d396807e179 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d396807e181 ">Precision of model.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d396807e177 ">recall</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d396807e179 ">DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d396807e181 ">Recall of model.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d396807e177 ">f_measure</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d396807e179 ">DOUBLE PRECISION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d396807e181 ">F-measure of model.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="elv1510349038455" xml:lang="en-us" lang="en-us" id="elv1510349038455"><h2 class="title topictitle2" id="ariaid-title6">TextClassifierEvaluator Example</h2>
<div class="body refbody"><div class="section" id="elv1510349038455__section_f25_ljt_pdb"><h3 class="title sectiontitle">Input</h3><ul class="ul" id="elv1510349038455__ul_mln_dkt_pdb"><li class="li">Input table: <a class="xref" href="lhi1558542137898.html#nid1510348931679" title="">TextClassifier Example</a> output table</li>
<li class="li">Model file: knn.bin, output by <a class="xref" href="qqb1558542100825.html#bvk1507219920237" title="">TextClassifierTrainer Example</a></li>
</ul>
</div>
<div class="section" id="elv1510349038455__section_hth_mjt_pdb"><h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock"><code>SELECT * FROM TextClassifierEvaluator (
  ON TextClassifier (
    ON (SELECT * FROM textclassifier_input)
    USING
    TextColumn ('content')
    Accumulate ('category')
    Model ('knn.bin')
  ) AS dt1 PARTITION BY 1
  USING
  ObservationColumn ('category')
  PredictColumn ('out_category')
) AS dt2;</code></pre></div>
<div class="section" id="elv1510349038455__section_fr1_njt_pdb"><h3 class="title sectiontitle">Output</h3><pre class="pre screen"> precision_val      recall             f_measure          
 ------------------ ------------------ ------------------ 
 0.8333333333333334 0.8333333333333334 0.8333333333333334</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="elv1510349038455__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>
</div>
</div>
</div>
</body>
</html>