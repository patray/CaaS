<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="copyright" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.rights.owner" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="VWAP" />
<meta name="abstract" content="This Machine Learning Engine function computes the volume-weighted average price of a traded item (usually an equity share) over a specified time interval." />
<meta name="description" content="This Machine Learning Engine function computes the volume-weighted average price of a traded item (usually an equity share) over a specified time interval." />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="gjw1507907635272" />
<meta name="DC.Language" content="en-us" />

<link rel="stylesheet" type="text/css" href="css/normal_styles.css" />
<title>VWAP</title>
</head>
<body>
<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="gjw1507907635272" id="gjw1507907635272">
	<h1 class="title topictitle1" id="ariaid-title1">VWAP</h1>

	<div class="body conbody"><p class="p">The VWAP function computes the volume-weighted average price of a traded item (usually an equity share) for each time interval in a series of equal-length time intervals.</p>
<p class="p">Where <code class="ph codeph">sum</code> applies to the current time interval:</p>
<p class="p"><code class="ph codeph">VWAP = sum(<var class="keyword varname">volume</var>*<var class="keyword varname">price</var>)/sum(<var class="keyword varname">volume</var>)</code></p>
</div>

<div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="aml1507907707564" xml:lang="en-us" lang="en-us" id="aml1507907707564"><h2 class="title topictitle2" id="ariaid-title2">VWAP Syntax</h2>
<div class="body refbody"><div class="section" id="aml1507907707564__section_N1000E_N1000C_N10001"><h3 class="title sectiontitle">Version 1.6</h3><pre class="pre codeblock"><code>SELECT * FROM VWAP (
  <span class="ph">ON { <var class="keyword varname">table</var> | <var class="keyword varname">view</var> | (<var class="keyword varname">query</var>) }</span> PARTITION BY <var class="keyword varname">expression</var> [,...] ORDER BY <var class="keyword varname">time_column</var> DESC
  [ USING
    [ Price ('<var class="keyword varname">price_column</var>') ]
    [ Volume ('<var class="keyword varname">volume_column</var>') ]
    [ TimeInterval (<var class="keyword varname">number_of_seconds</var>) ]
    [ TimeColumn ('<var class="keyword varname">time_column</var>') ]
  ]
) AS <var class="keyword varname">alias</var>;</code></pre></div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="vjc1507907768452" xml:lang="en-us" lang="en-us" id="vjc1507907768452">
	<h2 class="title topictitle2" id="ariaid-title3">VWAP Syntax Elements</h2>

	<div class="body refbody">
		<div class="section" id="vjc1507907768452__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">Price</dt>
<dd class="dd pd">[Optional] Specify the name of the input table column that contains the price at which the item traded.</dd>
<dd class="dd pd ddexpand">Default: 'price'</dd>
<dt class="dt pt dlterm">Volume</dt>
<dd class="dd pd">[Optional] Specify the name of the input table column that contains the number of units traded in the transaction.</dd>
<dd class="dd pd ddexpand">Default: 'volume'</dd>
<dt class="dt pt dlterm">TimeColumn</dt>
<dd class="dd pd">[Optional] Specify the name of the input table column that contains the date and time of the trade.</dd>
<dd class="dd pd ddexpand">Default: 'dt'</dd>
<dt class="dt pt dlterm">TimeInterval</dt>
<dd class="dd pd">[Optional] Specify the number of seconds in each time interval.</dd>
<dd class="dd pd ddexpand">Default: 0 (Each row is an interval, and the function calculates no averages.)</dd>
</dl>
</div>

	</div>

</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="qyi1507907882054" xml:lang="en-us" lang="en-us" id="qyi1507907882054"><h2 class="title topictitle2" id="ariaid-title4">VWAP Input</h2>
<div class="body refbody"><div class="section" id="qyi1507907882054__section_N1000E_N1000C_N10001"><h3 class="title sectiontitle">Input Table Schema</h3><p class="p">You must partition the input table such that each partition contains all rows of the entity whose volume-weighted average is to be calculated. For example, if the entity is a particular equity share, then all transactions of that share must be in the same partition.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="qyi1507907882054__table_N10017_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:20%" /><col style="width:16%" /><col style="width:64%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d399223e173">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d399223e175">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d399223e177">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e173 "><var class="keyword varname">input_column</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e175 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d399223e177 ">[Column appears zero or more times.] <span class="ph">Column to copy to output table.</span></td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e173 "><var class="keyword varname">price_column</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e175 ">NUMERIC, INTEGER, BIGINT, or DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d399223e177 ">Price at which item traded.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e173 "><var class="keyword varname">volume_column</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e175 ">NUMERIC, INTEGER, BIGINT, or DOUBLE PRECISION</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d399223e177 ">Number of units traded in transaction.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d399223e173 "><var class="keyword varname">time_column</var></td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d399223e175 ">TIMESTAMP</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e177 ">Timestamp (date and time) of trade. Timestamp of first row in partition is considered to be start time of first interval. Second interval starts immediately after end of first interval, and so on.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="hqb1507908064646" xml:lang="en-us" lang="en-us" id="hqb1507908064646"><h2 class="title topictitle2" id="ariaid-title5">VWAP Output</h2>
<div class="body refbody"><div class="section" id="hqb1507908064646__section_sfz_ypk_ddb"><h3 class="title sectiontitle">Output Table Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hqb1507908064646__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:66.66666666666666%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d399223e233">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d399223e235">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d399223e237">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e233 "><var class="keyword varname">input_column</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e235 "><span class="ph">Same as in Input table</span></td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d399223e237 ">[Column appears once for each <var class="keyword varname">input_column</var> in input table.] <span class="ph">Column copied from input table.</span></td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e233 ">timestamp</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d399223e235 ">TIMESTAMP</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d399223e237 ">Last timestamp in interval.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d399223e233 ">vwap</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d399223e235 ">DOUBLE PRECISION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e237 ">Volume-weighted average price for interval.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="ecm1510783602273" xml:lang="en-us" lang="en-us" id="ecm1510783602273"><h2 class="title topictitle2" id="ariaid-title6">VWAP Example</h2>
<div class="body refbody"><div class="section" id="ecm1510783602273__section_qr1_wff_pdb"><h3 class="title sectiontitle">Input</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="ecm1510783602273__table_lnb_lgf_pdb" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">stock_vol</span></div><colgroup><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d399223e302">id</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d399223e304">name</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d399223e306">period</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d399223e308">stockprice</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d399223e310">volume</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-17 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">460</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">640000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-18 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">457</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">707200</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-19 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">452</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">747200</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-22 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">459</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.3312e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-23 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">462</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.848e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-24 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">459</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">779200</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-25 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">463</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">528000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-26 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">479</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">843200</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-29 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">493</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.728e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-31 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">490</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">880000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-01 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">492</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">760000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-02 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">498</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.848e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-05 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">499</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.3472e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-06 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">497</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.48e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-07 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">496</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.0912e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-08 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">490</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.096e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-09 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">489</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">760000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-12 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">478</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">904000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-13 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">487</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.9552e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-14 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">491</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.0912e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-15 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">487</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.3232e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-16 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">482</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">376000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-19 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">479</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">339200</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-20 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">478</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">640000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-06-21 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">479</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">640000</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-17 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">68.2502</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">2.7264e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-18 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">67.7501</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.6704e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-19 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">68.375</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.5168e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-22 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">67.1251</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.8528e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-23 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">67.1251</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.7184e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">Company2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">1961-05-24 00:00:00</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">66</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">1.2672e+06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e302 ">...</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e304 ">...</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e306 ">...</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e308 ">...</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d399223e310 ">...</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="ecm1510783602273__section_gzk_wff_pdb"><h3 class="title sectiontitle">SQL Call</h3><pre class="pre codeblock"><code>SELECT * FROM VWAP (
  ON stock_vol PARTITION BY id ORDER BY period
  USING
  Price ('stockprice')
  Volume ('volume')
  TimeColumn ('period')
  TimeInterval (432000)
) AS dt ORDER BY id;</code></pre></div>
<div class="section" id="ecm1510783602273__section_amw_wff_pdb"><h3 class="title sectiontitle">Output</h3><p class="p">Because the time interval (86,400 seconds) equals one day, the function groups the first two rows together and the last two rows together, and calculates the volume-weighted average price for each group.</p>
<pre class="pre screen"> id name timestamp                  vwap               
 -- ---- -------------------------- ------------------ 
  1 ibm  1961-06-02 00:00:00.000000    494.11962890625
  1 ibm  1961-06-16 00:00:00.000000  485.9997253417969
  1 ibm  1961-06-21 00:00:00.000000   478.604736328125
  1 ibm  1961-05-26 00:00:00.000000  465.1324462890625
  1 ibm  1961-06-09 00:00:00.000000  494.8960876464844
  1 ibm  1961-05-22 00:00:00.000000     457.2470703125
  2 ge   1961-05-22 00:00:00.000000  67.89862060546875
  2 ge   1961-06-21 00:00:00.000000    64.154052734375
  2 ge   1961-06-16 00:00:00.000000  66.48062896728516
  2 ge   1961-06-09 00:00:00.000000  66.62847137451172
  2 ge   1961-06-02 00:00:00.000000  65.82262420654297
  2 ge   1961-05-26 00:00:00.000000  65.76305389404297
  3 pg   1961-06-02 00:00:00.000000  19.29766273498535
  3 pg   1961-06-16 00:00:00.000000  24.12955093383789
  3 pg   1961-06-21 00:00:00.000000 24.474178314208984
  3 pg   1961-06-09 00:00:00.000000 22.784996032714844
  3 pg   1961-05-26 00:00:00.000000  17.52366065979004
  3 pg   1961-05-22 00:00:00.000000 18.016775131225586</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="ecm1510783602273__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>
</div>
</div>
</div>
</body>
</html>