<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="copyright" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.rights.owner" content="(C) Copyright 2019, Teradata. All Rights Reserved." />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="HMMDecoder" />
<meta name="abstract" content="This ML Engine function finds the state sequence with highest probability, given the learned Hidden Markov model (HMM) and observed sequences." />
<meta name="description" content="This ML Engine function finds the state sequence with highest probability, given the learned Hidden Markov model (HMM) and observed sequences." />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="zvt1507063845594" />
<meta name="DC.Language" content="en-us" />

<link rel="stylesheet" type="text/css" href="css/normal_styles.css" />
<title>HMMDecoder</title>
</head>
<body>
<div class="nested0" aria-labelledby="ariaid-title1" topicindex="1" topicid="zvt1507063845594" id="zvt1507063845594">
	<h1 class="title topictitle1" id="ariaid-title1">HMMDecoder</h1>

	<div class="body conbody"><p class="p">The HMMDecoder function finds the state sequence with the highest probability, given the learned model and observed sequences.</p>
<p class="p">If a set of phrases or words was trained using HMMSupervised or HMMUnsupervised function, you can use HMMDecoder to decode the parts of speech in the set.</p>
</div>

<div class="topic reference nested1" aria-labelledby="ariaid-title2" topicindex="2" topicid="gva1507063919511" xml:lang="en-us" lang="en-us" id="gva1507063919511"><h2 class="title topictitle2" id="ariaid-title2">HMMDecoder Syntax</h2>
<div class="body refbody"><div class="section" id="gva1507063919511__section_N1000E_N1000C_N10001"><h3 class="title sectiontitle">Version 1.9</h3><pre class="pre codeblock"><code>SELECT * FROM HMMDecoder (
  ON <var class="keyword varname">init_prob_table</var> AS InitialStateProbs PARTITION BY <var class="keyword varname">model_key</var> [ ORDER BY <var class="keyword varname">model_key</var>, <var class="keyword varname">state_key_column</var> ] 
  ON <var class="keyword varname">trans_prob_table</var> AS TransitionProbs PARTITION BY <var class="keyword varname">model_key</var> 
  ON <var class="keyword varname">emission_prob_table</var> AS EmissionProbs PARTITION BY <var class="keyword varname">model_key</var> 
  ON <var class="keyword varname">observation_table</var> AS ObservationTable PARTITION BY <var class="keyword varname">model_key</var> 
    ORDER BY <var class="keyword varname">time_ordered_sequence_column</var> ASC [,...]
  USING
  InitStateModelColumn ('<var class="keyword varname">model_column</var>')
  InitStateColumn ('<var class="keyword varname">state_key_column</var>')
  InitStateProbColumn ('<var class="keyword varname">init_state_probability</var>')
  TransAttributeColumn ('<var class="keyword varname">model_column</var>')
  TransFromStateColumn ('<var class="keyword varname">from_state_key_column</var>')
  TransToStateColumn ('<var class="keyword varname">to_state_key_column</var>')
  TransProbColumn ('<var class="keyword varname">trans_probability</var>')
  EmitModelColumn ('<var class="keyword varname">model_column</var>')
  EmitStateColumn ('<var class="keyword varname">state_key_column</var>')
  EmitObsColumn ('<var class="keyword varname">observed_key_column</var>')
  EmitProbColumn ('<var class="keyword varname">emit_probability</var>')]
  ModelColumn ('<var class="keyword varname">model_column</var>')
  SeqColumn ('<var class="keyword varname">seq_column</var>')
  ObservationColumn ('<var class="keyword varname">observation_column</var>')
  [ SequenceMaxSize ('<var class="keyword varname">range</var>') ]
  [ SkipColumn ('<var class="keyword varname">skip_column</var>') ]
  <code class="ph codeph">[ Accumulate ({ '<var class="keyword varname">accumulate_column</var>' | <var class="keyword varname">accumulate_column_range</var> }[,...]) ]</code>
) AS <var class="keyword varname">alias</var>;</code></pre></div>
</div>
<div class="related-links">
<div class="linklistheader">Related Information</div>
<ul class="linklist linklist relinfo">
<div class="linklistmember"><a class="link" href="ndv1557782188375.html" title="See the syntax details for Machine Learning Engine analytic functions with syntax elements that specify ( {'column' | column_range }[,...] ).">Column Specification Syntax Elements</a></div></ul>
</div></div>
<div class="topic reference nested1" aria-labelledby="ariaid-title3" topicindex="3" topicid="xhh1507063971675" xml:lang="en-us" lang="en-us" id="xhh1507063971675">
	<h2 class="title topictitle2" id="ariaid-title3">HMMDecoder Syntax Elements</h2>

	<div class="body refbody">
		<div class="section" id="xhh1507063971675__section_N10011_N1000E_N10001"><dl class="dl parml"><dt class="dt pt dlterm">InitStateModelColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">model_attribute</var> column in the InitialStateProbs table.</dd>
<dt class="dt pt dlterm">InitStateColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">state_key_attribute</var> column in the InitialStateProbs table.</dd>
<dt class="dt pt dlterm">InitStateProbColumn</dt>
<dd class="dd pd">Specify the probability column in the InitialStateProbs table.</dd>
<dt class="dt pt dlterm">TransAttributeColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">model_attribute</var> column in the TransitionProbs table.</dd>
<dt class="dt pt dlterm">TransFromStateColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">from_state_key_attribute</var> column in the TransitionProbs table.</dd>
<dt class="dt pt dlterm">TransToStateColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">to_state_key_attribute</var> column in the TransitionProbs table.</dd>
<dt class="dt pt dlterm">TransProbColumn</dt>
<dd class="dd pd">Specify the probability column in the TransitionProbs table.</dd>
<dt class="dt pt dlterm">EmitModelColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">model_attribute</var> column in the EmissionProbs table.</dd>
<dt class="dt pt dlterm">EmitStateColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">state_key_attribute</var> column in the EmissionProbs table.</dd>
<dt class="dt pt dlterm">EmitObsColumn</dt>
<dd class="dd pd">Specify the <var class="keyword varname">observed_key_attributes</var> column in the EmissionProbs table.</dd>
<dt class="dt pt dlterm">EmitProbColumn</dt>
<dd class="dd pd">Specify the probability column in the EmissionProbs table.</dd>
<dt class="dt pt dlterm">ModelColumn</dt>
<dd class="dd pd">Specify the name of the column that contains the model attribute. Then <var class="keyword varname">model_column</var> must match a <var class="keyword varname">model_key</var> in the PARTITION BY clause.</dd>
<dt class="dt pt dlterm">SeqColumn</dt>
<dd class="dd pd">Specify the name of the column that contains the sequence attribute. The <var class="keyword varname">sequence_column</var> must be a sequence attribute in the PARTITION BY clause.</dd>
<dt class="dt pt dlterm">ObservationColumn</dt>
<dd class="dd pd">Specify the name of the column that contains the observed symbols.<div class="note note" id="xhh1507063971675__note_N10102_N100FE_N100F4_N10030_N10011_N1000E_N1000C_N10001"><span class="notetitle">Note</span><div class="notebody">Observed symbols are case-sensitive.</div></div>
</dd>
<dt class="dt pt dlterm">SequenceMaxSize</dt>
<dd class="dd pd">[Optional] Specify the maximum length, in rows, of a sequence in the ObservationTable.</dd>
</dl>
<dl class="dl parml"><dt class="dt pt dlterm">SkipColumn</dt>
<dd class="dd pd">[Optional] Specify the name of the input column whose value determines whether the function skips the row.</dd>
<dt class="dt pt dlterm">Accumulate</dt>
<dd class="dd pd">[Optional] Specify the names of the <var class="keyword varname">input_table</var> columns to copy to the output table.</dd>
</dl>
</div>

	</div>

</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title4" topicindex="4" topicid="mir1507064042887" xml:lang="en-us" lang="en-us" id="mir1507064042887"><h2 class="title topictitle2" id="ariaid-title4">HMMDecoder Input</h2>
<div class="body refbody"><div class="section" id="mir1507064042887__section_N1000E_N1000C_N10001">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mir1507064042887__table_fm5_dcw_xcb" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:50%" /><col style="width:50%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e333">Table</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e335">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e333 ">InitialStateProbs</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e335 ">InitStateTable, output by either HMMUnsupervised or HMMSupervised. For schema, see <a class="xref" href="ioe1558128078911.html#xxe1506984452573" title="">HMMUnsupervised Output</a> or <a class="xref" href="jwg1558128230436.html#iaa1506985291242" title="">HMMSupervised Output</a>.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e333 ">TransitionProbs</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e335 ">StateTransitionTable, output by HMMUnsupervised or HMMSupervised.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e333 ">EmissionProbs</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e335 ">EmissionTable, output by HMMUnsupervised or HMMSupervised.</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e333 ">ObservationTable</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e335 ">Contains newly observed sequences. Has same schema as <a class="xref" href="ioe1558128078911.html#utx1506984060944" title="">HMMUnsupervised Input</a> table.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mir1507064042887__section_s5h_xbw_xcb"><h3 class="title sectiontitle">InitialStateProbs Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mir1507064042887__table_N10014_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:28.57142857142857%" /><col style="width:14.285714285714285%" /><col style="width:57.14285714285714%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e380">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e382">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d11100e384">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e380 "><var class="keyword varname">model_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e382 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e384 ">Model attribute in column specified by InitStateModelColumn syntax element.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e380 "><var class="keyword varname">state_key_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e382 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e384 ">Symbol defining hidden state.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e380 ">probability</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e382 ">DOUBLE PRECISION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e384 ">Probability of transition from from_state to to_state.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mir1507064042887__section_htk_zbw_xcb"><h3 class="title sectiontitle">TransitionProbs Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mir1507064042887__table_N10069_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:28.57142857142857%" /><col style="width:14.285714285714285%" /><col style="width:57.14285714285714%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e420">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e422">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d11100e424">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e420 "><var class="keyword varname">model_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e422 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e424 ">Model attribute in column specified by TransAttributeColumn syntax element</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e420 "><var class="keyword varname">from_state_key_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e422 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e424 ">Symbol defining hidden state from which transition is made.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e420 "><var class="keyword varname">to_state_key_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e422 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e424 ">Symbol defining hidden state to which transition is made.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e420 ">probability</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e422 ">DOUBLE PRECISION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e424 ">Probability of transition from from_state to to_state.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mir1507064042887__section_pwh_bcw_xcb"><h3 class="title sectiontitle">EmissionProbs Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mir1507064042887__table_N100CE_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:28.57142857142857%" /><col style="width:14.285714285714285%" /><col style="width:57.14285714285714%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e468">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e470">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d11100e472">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e468 "><var class="keyword varname">model_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e470 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e472 ">Model attribute in column specified by EmitModelColumn.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e468 "><var class="keyword varname">state_key_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e470 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e472 ">Symbol defining hidden state.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e468 "><var class="keyword varname">observed_key_attributes</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e470 ">Any</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e472 ">Symbol defining observation value.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e468 ">probability</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e470 ">DOUBLE PRECISION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e472 ">Probability of emitting observed symbol, given that HMM is in hidden state.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic reference nested1" aria-labelledby="ariaid-title5" topicindex="5" topicid="qwa1507064408488" xml:lang="en-us" lang="en-us" id="qwa1507064408488"><h2 class="title topictitle2" id="ariaid-title5">HMMDecoder Output</h2>
<div class="body refbody"><div class="section" id="qwa1507064408488__section_inp_sbw_xcb"><h3 class="title sectiontitle">Output Table Schema</h3>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="qwa1507064408488__table_N1000E_N1000C_N10001" class="table" frame="border" border="1" rules="all"><div class="caption"></div><colgroup><col style="width:28.57142857142857%" /><col style="width:14.285714285714285%" /><col style="width:57.14285714285714%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e525">Column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d11100e527">Data Type</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d11100e529">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e525 "><var class="keyword varname">model_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e527 ">VARCHAR or INTEGER</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e529 ">Model attribute, specified by ModelKey syntax element.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e525 "><var class="keyword varname">sequence_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e527 ">VARCHAR or INTEGER</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e529 ">Sequence attribute, specified by SequenceKey syntax element.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e525 "><var class="keyword varname">observed_key_attribute</var></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d11100e527 ">ANY</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d11100e529 ">Observed symbol, specified by ObservedKey syntax element.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e525 "><var class="keyword varname">state_key_attribute</var></td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d11100e527 ">ANY</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e529 ">Most likely state of HMM that corresponds to observed value in given sequence.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic concept nested1" aria-labelledby="ariaid-title6" topicindex="6" topicid="ves1510787242520" xml:lang="en-us" lang="en-us" id="ves1510787242520"><h2 class="title topictitle2" id="ariaid-title6">HMMDecoder Examples</h2>
<div class="topic reference nested2" aria-labelledby="ariaid-title7" topicindex="7" topicid="jos1507064641295" xml:lang="en-us" lang="en-us" id="jos1507064641295"><h3 class="title topictitle3" id="ariaid-title7">HMMDecoder Example: Loan Default Prediction, Unsupervised Learner</h3>
<div class="body refbody"><div class="section" id="jos1507064641295__section_N1000E_N1000C_N10001"><p class="p">This example finds the three hidden states for the table test_loan_prediction in <a class="xref" href="jyo1558446347286.html#elg1507054710148" title="">HMMEvaluator Example: Loan Default Prediction</a>, which is an unsupervised loan sequence trained with two models (1 and 2).</p>
</div>
<div class="section" id="jos1507064641295__section_ahc_tnf_n2b"><h4 class="title sectiontitle">Input</h4><ul class="ul" id="jos1507064641295__ul_nqr_g4f_n2b"><li class="li">InitialStateProbs: pi_loan</li>
<li class="li">TransitionProbs: A_loan</li>
<li class="li">EmissionProbs: B_loan</li>
</ul>
<p class="p">The preceding models are output by <a class="xref" href="ioe1558128078911.html#ksv1506984594893" title="">HMMUnsupervised Example: Loan Default Prediction</a>.</p>
</div>
<div class="section" id="jos1507064641295__section_q4l_tnf_n2b"><h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock"><code>SELECT * FROM HMMDecoder (
  ON pi_loan AS InitialStateProbs PARTITION BY model_id ORDER BY model_id, state
  ON A_loan AS TransitionProbs PARTITION BY model_id
  ON B_loan AS EmissionProbs PARTITION BY model_id
  ON test_loan_prediction AS ObservationTable PARTITION BY model_id
    ORDER BY model_id, seq_id, seq_vertex_id ASC
  USING
  InitStateModelColumn ('model_id')
  InitStateColumn ('state')
  InitStateProbColumn ('probability')
  TransAttributeColumn ('model_id')
  TransFromStateColumn('from_state')
  TransToStateColumn('to_state')
  TransProbColumn ('probability')
  EmitModelColumn ('model_id')
  EmitStateColumn ('state')
  EmitObsColumn ('observed')
  EmitProbColumn ('probability')
  ModelColumn ('model_id')
  SeqColumn ('seq_id')
  ObsColumn ('observed_id ')
  Accumulate ('seq_vertex_id ')
) AS dt ORDER BY 1, 2, 5;</code></pre></div>
<div class="section" id="jos1507064641295__section_s2x_tnf_n2b"><h4 class="title sectiontitle">Output</h4><p class="p">For the same sequence, the hidden states are different for each model.</p>
<pre class="pre screen"> model_id seq_id observed_id state seq_vertex_id 
 -------- ------ ----------- ----- ------------- 
 1        17        1        2                 0
 1        17        1        2                 1
 1        17        1        2                 2
 1        17        1        2                 3
 1        17        1        2                 4
 1        17        1        2                 5
 1        17        1        2                 6
 1        17        2        2                 7
 1        17        1        2                 8
 1        17        1        2                 9
 1        17        1        2                10
 1        17        1        2                11
 1        17        1        2                12
 1        17        1        2                13
 1        17        3        1                14
 1        17        4        0                15
 1        17        5        1                16
 1        17        6        1                17
 1        17        6        1                18
 1        17        6        1                19
 1        17        6        1                20
 1        17        6        1                21
 1        17        6        1                22
 1        17        6        1                23
 1        17        6        1                24
 1        17        6        0                25
 2        17        1        2                 0
 2        17        1        2                 1
 2        17        1        2                 2
 2        17        1        2                 3
 2        17        1        2                 4
 2        17        1        2                 5
 2        17        1        2                 6
 2        17        2        1                 7
 2        17        1        2                 8
 2        17        1        2                 9
 2        17        1        2                10
 2        17        1        2                11
 2        17        1        2                12
 2        17        1        2                13
 2        17        3        1                14
 2        17        4        0                15
 2        17        5        1                16
 2        17        6        1                17
 2        17        6        1                18
 2        17        6        1                19
 2        17        6        1                20
 2        17        6        1                21
 2        17        6        1                22
 2        17        6        1                23
 2        17        6        1                24
 2        17        6        0                25</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="jos1507064641295__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>
</div>
</div>
<div class="topic reference nested2" aria-labelledby="ariaid-title8" topicindex="8" topicid="mfh1531927834458" xml:lang="en-us" lang="en-us" id="mfh1531927834458">
	<h3 class="title topictitle3" id="ariaid-title8">HMMDecoder Example: Customer Loyalty Prediction, Supervised Learner</h3>

	<div class="body refbody"><div class="section" id="mfh1531927834458__section_pdg_5pd_ygb"><p class="p">This example uses model files with the input to determine the loyalty levels of customers from a new sequence of purchases. The loyalty levels are low (L), normal (N), and high (H).</p>
</div>
<div class="section" id="mfh1531927834458__section_ahc_tnf_n2b"><h4 class="title sectiontitle">Input</h4><p class="p">The ObservationTable, customer_loyalty_newseq, is a collection of three new test sequences (seq_id 4, 5, 6) for user_id 1. HMMSupervised trained multiple users and obtained the trained model files (pi_loyalty, A_loyalty and B_loyalty).</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="mfh1531927834458__table_qnz_qpf_n2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">customer_loyalty_newseq</span></div><colgroup><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /><col style="width:20%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e672">id</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e674">user_id</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e676">seq_id</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e678">purchase_date</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e680">observation</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">301</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-01</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">LL</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">302</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-02</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">LS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">303</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-03</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">304</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-04</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">305</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-05</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">LL</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">306</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-06</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">ML</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">307</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-07</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">308</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-08</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">MM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">309</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-09</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">MS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">310</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-10</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">ML</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">311</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-01</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">ML</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">312</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-02</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">313</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-03</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">MS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">314</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-04</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">MS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">315</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-05</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">316</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-06</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">MS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">317</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-07</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">ML</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">318</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-08</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">MM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">319</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-09</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">320</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-10</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">321</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-01</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">322</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-02</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">MS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">323</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-03</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">324</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-04</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">LM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">325</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-05</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SL</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">326</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-06</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">327</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-07</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">328</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-08</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">SM</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">329</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-09</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">LS</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e672 ">330</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e674 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e676 ">6</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e678 ">2014-05-10</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e680 ">LS</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mfh1531927834458__section_q4l_tnf_n2b"><h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock"><code>SELECT * FROM HMMDecoder(
  ON pi_loyalty AS InitialStateProbs PARTITION BY user_id ORDER BY user_id, state
  ON A_loyalty AS TransitionProbs PARTITION BY user_id
  ON B_loyalty AS EmissionProbs PARTITION BY user_id
  ON customer_loyalty_newseq AS ObservationTable PARTITION BY user_id
    ORDER BY user_id, seq_id, purchase_date ASC
  USING
  InitStateModelColumn('user_id')
  InitStateColumn('state')
  InitStateProbColumn('probability')
  TransAttributeColumn('user_id')
  TransFromStateColumn('from_state')
  TransToStateColumn('to_state')
  TransProbColumn('probability')
  EmitModelColumn('user_id')
  EmitStateColumn('state')
  EmitObsColumn('observed')
  EmitProbColumn('probability')
  ModelColumn('user_id')
  SeqColumn('seq_id')
  ObsColumn('observation')
  Accumulate('purchase_date')
) AS dt ORDER BY 1, 2, 5;
</code></pre></div>
<div class="section" id="mfh1531927834458__section_s2x_tnf_n2b"><h4 class="title sectiontitle">Output</h4><p class="p">The output table shows the decoded loyalty levels for the new sequence. For seq_id 5, the loyalty level increased towards the end of the sequence (from L to H; for the other sequences (seq_id 4 and seq_id 6), the loyalty level did not change.</p>
<pre class="pre screen"> user_id seq_id observation state purchase_date 
 ------- ------ ----------- ----- ------------- 
 1       4      ll          l     2014-05-01   
 1       4      ls          l     2014-05-02   
 1       4      ss          l     2014-05-03   
 1       4      sm          l     2014-05-04   
 1       4      ll          l     2014-05-05   
 1       4      ml          l     2014-05-06   
 1       4      ss          l     2014-05-07   
 1       4      mm          l     2014-05-08   
 1       4      ms          l     2014-05-09   
 1       4      ml          l     2014-05-10   
 1       5      ml          l     2014-05-01   
 1       5      sm          l     2014-05-02   
 1       5      ms          l     2014-05-03   
 1       5      ms          l     2014-05-04   
 1       5      ss          l     2014-05-05   
 1       5      ms          l     2014-05-06   
 1       5      ml          l     2014-05-07   
 1       5      mm          l     2014-05-08   
 1       5      sm          h     2014-05-09   
 1       5      sm          h     2014-05-10   
 1       6      sm          l     2014-05-01   
 1       6      ms          l     2014-05-02   
 1       6      ss          l     2014-05-03   
 1       6      lm          l     2014-05-04   
 1       6      sl          l     2014-05-05   
 1       6      ss          l     2014-05-06   
 1       6      ss          l     2014-05-07   
 1       6      sm          l     2014-05-08   
 1       6      ls          l     2014-05-09   
 1       6      ls          l     2014-05-10</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="mfh1531927834458__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>
</div>

</div>
<div class="topic reference nested2" aria-labelledby="ariaid-title9" topicindex="9" topicid="wop1524238109370" xml:lang="en-us" lang="en-us" id="wop1524238109370">
	<h3 class="title topictitle3" id="ariaid-title9">HMMDecoder Example: Part-of-Speech Tagging</h3>

	<div class="body refbody"><div class="section" id="wop1524238109370__section_jfl_rj3_4db"><p class="p">In this example, the parts of speech correspond to the hidden states of the HMM function, A (adjective) and N (noun).</p>
</div>

		<div class="section" id="wop1524238109370__section_N10011_N1000E_N10001"><h4 class="title sectiontitle">Input</h4><ul class="ul" id="wop1524238109370__ul_w15_vk3_4db"><li class="li">InitialStateProbs: initial</li>
<li class="li">TransitionProbs: state_transition</li>
<li class="li">EmissionProbs: emission</li>
<li class="li">ObservationTable: phrases, a set of phrases whose parts of speech are unknown</li>
</ul>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="wop1524238109370__table_opt_cj3_4db" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">InitialStateProbs: initial</span></div><colgroup><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1078">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1080">tag</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1082">probability</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1078 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1080 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1082 ">0.25</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1078 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1080 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1082 ">0.75</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="wop1524238109370__table_ibs_hj3_4db" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">TransitionProbs: state_transition</span></div><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1109">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1111">from_tag</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1113">to_tag</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1115">probability</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1109 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1111 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1113 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1115 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1109 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1111 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1113 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1115 ">1</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1109 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1111 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1113 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1115 ">0.5</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1109 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1111 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1113 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1115 ">0.5</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="wop1524238109370__table_fdr_mj3_4db" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">EmissionProbs: emission</span></div><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1164">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1166">tag</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1168">word</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1170">probability</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">clown</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">clown</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">0.4</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">crazy</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">1</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">crazy</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">killer</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">killer</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">0.3</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">A</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">problem</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1164 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1166 ">N</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1168 ">problem</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1170 ">0.3</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="wop1524238109370__table_t4q_t33_4db" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">ObservationTable: phrases</span></div><colgroup><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1254">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1256">phrase_id</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1258">word</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1254 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1256 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1258 ">clown</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1254 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1256 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1258 ">crazy</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1254 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1256 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1258 ">killer</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1254 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1256 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1258 ">problem</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1254 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1256 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1258 ">nice</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1254 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1256 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1258 ">weather</td>
</tr>
</tbody>
</table>
</div>

		</div>
<div class="section" id="wop1524238109370__section_bhb_g33_4db"><h4 class="title sectiontitle">SQL Call</h4><pre class="pre codeblock"><code>SELECT * FROM HMMDecoder(
  ON initial AS InitialStateProbs PARTITION BY model 
    ORDER BY model, tag
  ON state_transition AS TransitionProbs PARTITION BY model
  ON emission AS EmissionProbs PARTITION BY model
  ON phrases AS ObservationTable PARTITION BY model
    ORDER BY model, phrase_id ASC
  USING
  InitStateModelColumn('model')
  InitStateColumn('tag')
  InitStateProbColumn('probability')
  TransAttributeColumn('model')
  TransFromStateColumn('from_tag')
  TransToStateColumn('to_tag')
  TransProbColumn('probability')
  EmitModelColumn('model')
  EmitStateColumn('tag')
  EmitObsColumn('word')
  EmitProbColumn('probability')
  ModelColumn('model')
  SeqColumn('phrase_id')
  ObsColumn('word')
) AS dt ORDER BY 1, 2, 3;</code></pre></div>
<div class="section" id="wop1524238109370__section_lz3_g33_4db"><h4 class="title sectiontitle">Output</h4><pre class="pre screen"> model phrase_id word    tag 
 ----- --------- ------- --- 
 1     1         clown   n  
 1     1         crazy   a  
 1     1         killer  n  
 1     1         problem n  
 1     2         nice    a  
 1     2         weather a</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="wop1524238109370__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>

	</div>

</div>
<div class="topic reference nested2" aria-labelledby="ariaid-title10" topicindex="10" topicid="fge1531927867768" xml:lang="en-us" lang="en-us" id="fge1531927867768">
	<h3 class="title topictitle3" id="ariaid-title10">HMMDecoder Example: Bank Customer Churn</h3>

	<div class="body refbody"><div class="section" id="fge1531927867768__section_hz1_yqf_n2b"><p class="p">This example uses HMMDecoder to find the propensity of customer churn, given the actions or transactions of a bank customer.</p>
</div>
<div class="section" id="fge1531927867768__section_ahc_tnf_n2b"><h4 class="title sectiontitle">Input</h4><ul class="ul" id="fge1531927867768__ul_w15_vk3_4db"><li class="li">InitialStateProbs: churn_initial</li>
<li class="li">TransitionProbs: churn_state_transition</li>
<li class="li">EmissionProbs: churn_emission</li>
<li class="li">ObservationTable: churn_data</li>
</ul>
<p class="p">In the first three tables, T indicates that the customer is likely to churn and F indicates that the customer is unlikely to churn. In the fourth table, the column action has transactions, the column id has customer identifiers, and the column path_id shows transaction order.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="fge1531927867768__table_nss_zrf_n2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">InitialStateProbs: churn_initial</span></div><colgroup><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /><col style="width:33.33333333333333%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1368">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1370">tag</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1372">probability</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1368 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1370 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1372 ">0.909</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1368 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1370 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1372 ">0.091</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="fge1531927867768__table_hjj_msf_n2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">TransitionProbs: churn_state_transition</span></div><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1399">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1401">from_tag</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1403">to_tag</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1405">probability</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1399 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1401 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1403 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1405 ">1</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1399 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1401 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1403 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1405 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1399 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1401 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1403 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1405 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1399 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1401 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1403 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1405 ">1</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="fge1531927867768__table_p2n_xsf_n2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">EmissionProbs: churn_emission</span></div><colgroup><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /><col style="width:25%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1454">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1456">state</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1458">observed</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1460">probability</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ACCOUNT_BOOKED_OFFLINE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.005</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ACCOUNT_BOOKED_ONLINE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.028</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ADD_DIRECT_DEPOSIT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.001</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">BALANCE_TRANSFER</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">BROWSE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.545</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">CALL_COMPLAINT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">CLICK</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.003</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">COMPARE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.113</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">COMPLETE_APPLICATION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.06</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ENROLL_AUTO_SAVINGS</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.001</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">FEE_REVERSAL</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">LINK_EXTERNAL_ACCOUNT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">LOAN_CALC</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.024</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">MORTGAGE_CALC</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.011</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">OLB</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.039</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">REFERRAL</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.003</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">F</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">STARTS_APPLICATION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.167</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ACCOUNT_BOOKED_OFFLINE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.027</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ACCOUNT_BOOKED_ONLINE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.074</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ADD_DIRECT_DEPOSIT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">BALANCE_TRANSFER</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.238</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">BROWSE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.016</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">CALL_COMPLAINT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.233</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">CLICK</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">COMPARE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.033</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">COMPLETE_APPLICATION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.028</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">ENROLL_AUTO_SAVINGS</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">FEE_REVERSAL</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.221</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">LINK_EXTERNAL_ACCOUNT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.106</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">LOAN_CALC</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.006</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">MORTGAGE_CALC</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.002</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">OLB</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.002</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">REFERRAL</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.001</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1454 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1456 ">T</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1458 ">STARTS_APPLICATION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1460 ">0.013</td>
</tr>
</tbody>
</table>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="fge1531927867768__table_ykh_vqf_n2b" class="table" frame="border" border="1" rules="all"><div class="caption"><span class="tablecap">ObservationTable: churn_data</span></div><colgroup><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /><col style="width:16.666666666666664%" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1784">model</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1786">action</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1788">path_id</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1790">path_max</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1792">id</th>
<th class="entry cellrowborder" style="vertical-align:top;" id="d11100e1794">product</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">CALL_COMPLAINT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">BROKERAGE</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">CALL_COMPLAINT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">BROKERAGE</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">FEE_REVERSAL</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">BROKERAGE</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">BALANCE_TRANSFER</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">BROKERAGE</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">ACCOUNT_BOOKED_ONLINE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CREDITCARD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">FEE_REVERSAL</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CREDITCARD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">LINK_EXTERNAL_ACCOUNT</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CREDITCARD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">BALANCE_TRANSFER</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CREDITCARD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">STARTS_APPLICATION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">MORTGAGE_CALC</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">2</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">COMPARE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">BROWSE</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">4</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CD</td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1784 ">1</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1786 ">COMPLETE_APPLICATION</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1788 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1790 ">5</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1792 ">3</td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d11100e1794 ">CD</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="fge1531927867768__section_q4l_tnf_n2b"><h4 class="title sectiontitle">SQL Call</h4><pre class="pre screen">SELECT * FROM HMMDecoder (
ON churn_initial AS InitialStateProbs PARTITION BY model
ON churn_state_transition AS TransitionProbs PARTITION BY model
ON churn_emission AS EmissionProbs PARTITION BY model
ON churn_data AS ObservationTable PARTITION BY model
ORDER BY model, id, path_id ASC
InitStateModelColumn ('model')
InitStateColumn ('tag')
InitStateProbColumn ('probability')
TransAttributeColumn ('model')
TransFromStateColumn ('from_tag')
TransToStateColumn ('to_tag')
TransProbColumn ('probability')
EmitModelColumn ('model')
EmitStateColumn ('state')
EmitObsColumn ('observed')
EmitProbColumn ('probability')
ModelColumn ('model')
SeqColumn ('id')
ObservationColumn ('action')
Accumulate ('path_id')
) ORDER BY 1, 2, 5, 3;</pre>
</div>
<div class="section" id="fge1531927867768__section_s2x_tnf_n2b"><h4 class="title sectiontitle">Output</h4><pre class="pre screen">model id action                tag path_id 
 ----- -- --------------------- --- ------- 
 1     1  call_complaint        t         1
 1     1  call_complaint        t         2
 1     1  fee_reversal          t         3
 1     1  balance_transfer      t         4
 1     2  account_booked_online t         1
 1     2  fee_reversal          t         2
 1     2  link_external_account t         3
 1     2  balance_transfer      t         4
 1     3  starts_application    f         1
 1     3  mortgage_calc         f         2
 1     3  compare               f         3
 1     3  browse                f         4
 1     3  complete_application  f         5</pre>
<p class="p">Download a zip file of all examples and a SQL script file that creates their input tables from the download tab <img class="image" id="fge1531927867768__d21e16" src="enx1538431836629.png" /> in the left pane.</p>
</div>
</div>

</div>
</div>
</div>
</body>
</html>